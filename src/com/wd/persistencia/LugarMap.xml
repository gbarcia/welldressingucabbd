<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

    <sqlMap namespace="Lugar">

    <typeAlias alias="lugar" type="com.wd.dominio.Lugar"/>

    <resultMap id="traerTodosLosLugares" class="lugar">
    <result property="id" column="Id" />
    <result property="nombrePropio" column="Ciudad" />
    <result property="tipo" column="tipo" />
    <result property="lugarID" column="EdoId" />
    <result property="nombrePertenece" column="Estado" />
    </resultMap>

    <select id="todosLosLugares" resultMap="traerTodosLosLugares">
        SELECT l.id Id, l.nombre Ciudad, l.tipo , l2.nombre Estado,
        l2.id EdoId FROM lugar l, lugar l2
        WHERE l.LUGAR_id is not null AND l.LUGAR_id = l2.id;
    </select>

  </sqlMap>

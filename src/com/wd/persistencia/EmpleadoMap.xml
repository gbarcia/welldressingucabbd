<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

    <sqlMap namespace="Empleado">

   <typeAlias alias="empleado" type="com.wd.dominio.Empleado"/>
   <typeAlias alias="historial" type="com.wd.dominio.HistorialEmpleado"/>

   <insert id="agregarEmpleado" parameterClass="empleado">
        INSERT INTO EMPLEADO (
        ci,
        nombre,
        apellido,
        fecha_nac,
        telefono,
        estado_civ,
        sexo,
        nivel_est,
        direccion,
        tipo,
        LUGAR_id)
        VALUES (#cedula#, #nombre#, #apellido#, #fechaNacimiento#, #telefono#,
        #estadoCivil#, #sexo#, #nivelEstudios#,#direccion#, #tipo#, #lugarId#);
    </insert>

    <insert id="agregarHistorial" parameterClass="historial">
        INSERT INTO NOMINA_TIENDA (
        EMPLEADO_ci,
        TIENDA_codigo,
        fecha_ini,
        fecha_fin,
        cargo)
        VALUES (#cedula#, #codigo#, #fechaInicio#, #fechaFin#, #cargo#);
    </insert>

    <update id="actualizarEmpleado" parameterClass="empleado">
        UPDATE EMPLEADO SET nombre= #nombre#,
        apellido = #apellido#,
        fecha_nac = #fechaNacimiento#,
        telefono = #telefono#,
        estado_civ = #estadoCivil#,
        sexo = #sexo#,
        nivel_est = #nivelEstudios#,
        direccion = #direccion#,
        tipo = #tipo#,
        LUGAR_id = #lugarId#
        WHERE ci = #cedula#
    </update>

   </sqlMap>